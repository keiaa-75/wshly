<div th:fragment="card" xmlns:th="http://www.thymeleaf.org">
    <style>
        .postcard {
            --border-stripe-size: 12px;
            --border-color-primary: #dc2626;
            --border-color-secondary: #fef2f2;
            background: 
                repeating-linear-gradient(
                    135deg,
                    var(--border-color-primary) 0,
                    var(--border-color-primary) var(--border-stripe-size),
                    var(--border-color-secondary) var(--border-stripe-size),
                    var(--border-color-secondary) calc(var(--border-stripe-size) * 2)
                );
        }
        
        .postcard-inner {
            background: #fffbf5;
        }
        
        .postcard-divider {
            border-bottom: 2px dashed #e5e7eb;
        }
        
        /* Desktop mode - applied via JS when horizontal layout detected */
        .desktop-mode .postcard-divider {
            border-bottom: none;
            border-right: 2px dashed #e5e7eb;
        }
        
        .desktop-mode .postcard-inner {
            height: 320px;
        }
        
        .desktop-mode .custom-message-scroll {
            max-height: 78px;
            overflow-y: auto;
        }
        
        .desktop-mode .from-section {
            margin-top: auto;
        }
    </style>
    
    <div id="postcard-container" class="postcard p-3 sm:p-4 rounded-lg shadow-xl">
        <div class="postcard-inner relative rounded p-4 sm:p-6 flex flex-col">
            
            <!-- Header: Main Message -->
            <header class="text-center mb-4 sm:mb-6 pb-3 border-b-2 border-dashed border-gray-200 shrink-0">
                <h2 id="card-header" class="font-superhelio text-xl sm:text-2xl text-cherry-600 pixel-shadow font-bold">
                    Merry Christmas!
                </h2>
            </header>
            
            <!-- Two-Pane Content -->
            <div id="card-content" class="flex flex-col sm:flex-row gap-4 sm:gap-6 flex-1 min-h-0 overflow-hidden">
                
                <!-- Left Pane: Message Content -->
                <div id="card-message-pane" class="sm:flex-1 min-w-0 postcard-divider pr-0 sm:pr-6 pb-4 sm:pb-0 flex flex-col overflow-hidden">
                    
                    <!-- Custom Message -->
                    <div id="card-custom-message" class="hidden min-h-0 mb-2">
                        <div class="custom-message-scroll">
                            <p class="font-aux-dotbitc text-gray-700 text-sm sm:text-base leading-relaxed break-words"></p>
                        </div>
                    </div>
                    
                    <!-- To Section -->
                    <div>
                        <p class="font-aux-dotbitc text-gray-500 text-sm">TO:</p>
                        <p id="card-recipient" class="font-superhelio text-lg sm:text-xl text-pink-600 font-bold border-b border-gray-300 pb-1 break-words">
                            Someone Special
                        </p>
                    </div>
                    
                    <!-- From Section -->
                    <div class="from-section mt-2">
                        <p class="font-aux-dotbitc text-gray-500 text-sm">FROM:</p>
                        <p id="card-sender" class="font-superhelio text-lg sm:text-xl text-cherry-600 font-bold border-b border-gray-300 pb-1 break-words">
                            You
                        </p>
                    </div>
                </div>
                
                <!-- Right Pane: Stickers (fixed width on desktop) -->
                <div id="card-addon-pane" class="sm:w-[180px] sm:flex-shrink-0 flex flex-col items-center justify-center">
                    <div th:replace="~{fragments/addons/stickers :: stickers}"></div>
                </div>
                
            </div>
            
            <!-- Snowflakes Overlay -->
            <div th:replace="~{fragments/addons/pixel-snowflakes :: pixel-snowflakes}"></div>
                
        </div>
    </div>
</div>
