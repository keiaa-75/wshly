<div th:fragment="card" xmlns:th="http://www.thymeleaf.org">
    <style>
        .postcard {
            --border-stripe-size: 12px;
            background: 
                repeating-linear-gradient(
                    135deg,
                    var(--theme-600) 0,
                    var(--theme-600) var(--border-stripe-size),
                    var(--theme-50) var(--border-stripe-size),
                    var(--theme-50) calc(var(--border-stripe-size) * 2)
                );
        }
        
        .postcard-inner {
            background: #fffbf5;
        }
        
        .pixel-shadow {
            text-shadow: 2px 2px 0px color-mix(in srgb, var(--theme-600) 30%, transparent);
        }
    </style>
    
    <div id="postcard-container" class="postcard p-3 md:p-4 rounded-lg shadow-xl">
        <div class="postcard-inner relative rounded p-4 md:p-6 flex flex-col md:h-80">
            
            <!-- Header: Main Message -->
            <header class="text-center mb-4 md:mb-6 pb-3 border-b-2 border-dashed border-gray-200 shrink-0">
                <h2 id="card-header" class="font-superhelio text-xl md:text-2xl pixel-shadow font-bold" style="color: var(--theme-600)">
                    Merry Christmas!
                </h2>
            </header>
            
            <!-- Two-Pane Content -->
            <div id="card-content" class="flex flex-col md:flex-row gap-4 md:gap-6 flex-1 min-h-0 overflow-hidden">
                
                <!-- Left Pane: Message Content -->
                <div id="card-message-pane" class="md:flex-1 min-w-0 border-b-2 md:border-b-0 md:border-r-2 border-dashed border-gray-200 pr-0 md:pr-6 pb-4 md:pb-0 flex flex-col overflow-hidden">
                    
                    <!-- Custom Message -->
                    <div id="card-custom-message" class="hidden min-h-0 mb-2">
                        <div class="md:max-h-[78px] md:overflow-y-auto">
                            <p class="font-aux-dotbitc text-gray-700 text-sm md:text-base leading-relaxed break-words"></p>
                        </div>
                    </div>
                    
                    <!-- To Section -->
                    <div>
                        <p class="font-aux-dotbitc text-gray-500 text-sm">TO:</p>
                        <p id="card-recipient" class="font-superhelio text-lg md:text-xl font-bold border-b border-gray-300 pb-1 break-words" style="color: var(--theme-400)">
                            Someone Special
                        </p>
                    </div>
                    
                    <!-- From Section -->
                    <div class="md:mt-auto mt-2">
                        <p class="font-aux-dotbitc text-gray-500 text-sm">FROM:</p>
                        <p id="card-sender" class="font-superhelio text-lg md:text-xl font-bold border-b border-gray-300 pb-1 break-words" style="color: var(--theme-600)">
                            You
                        </p>
                    </div>
                </div>
                
                <!-- Right Pane: Stickers (fixed width on desktop) -->
                <div id="card-addon-pane" class="md:w-[180px] md:flex-shrink-0 flex flex-col items-center justify-center">
                    <div th:replace="~{fragments/addons/stickers :: stickers}"></div>
                </div>
                
            </div>
            
            <!-- Snowflakes Overlay -->
            <div th:replace="~{fragments/addons/pixel-snowflakes :: pixel-snowflakes}"></div>
                
        </div>
    </div>
</div>
