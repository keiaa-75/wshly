<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/config/layout :: head}"></head>
<body class="min-h-screen font-aux-dotbitc" style="background: linear-gradient(to bottom right, var(--theme-gradient-from), var(--theme-gradient-to))">
    
    <div th:replace="~{fragments/components/sound-overlay :: sound-overlay}"></div>
    <div th:replace="~{fragments/components/about-modal :: about-modal}"></div>
    <div th:replace="~{fragments/components/error-modal :: error-modal}"></div>
    
    <!-- About button -->
    <button id="about-btn" class="pixel-button !w-10 !h-10 !p-0 fixed top-4 right-4 z-30" aria-label="About">
        <img src="/svg/icon-info.svg" alt="" class="w-5 h-5">
    </button>
    
    <div class="relative min-h-screen overflow-hidden">
        
        <!-- Card Preview - Full screen, always centered -->
        <div class="absolute inset-0 bottom-[40vh] md:bottom-0 md:left-80 flex items-center justify-center p-4 transition-all duration-300" id="preview-area">
            <div class="w-full max-w-sm md:max-w-lg">
                <div th:replace="~{fragments/components/card-display :: card}"></div>
            </div>
        </div>
        
        <!-- Settings Form - Slides in from bottom (mobile) / left (desktop) -->
        <div id="form-pane" class="fixed bottom-0 left-0 md:top-0 w-full h-[40vh] md:w-80 md:h-full bg-white border-t-2 md:border-t-0 md:border-r-2 transition-transform duration-300 ease-in-out z-20 overflow-visible" style="border-color: var(--theme-200)">
            <div th:replace="~{fragments/components/form-toggle :: toggle}"></div>
            <div class="h-full overflow-y-auto p-4">
                <div th:replace="~{fragments/components/card-form :: form(${messages})}"></div>
            </div>
        </div>
        
    </div>
    
    <script src="/js/script.js"></script>
</body>
</html>
